{"version":3,"sources":["language-global.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"language-global.js","sourcesContent":["$(document).ready(function () {\n\n    var language_choice_select = $('#post_lang_choice');\n    language_choice_select.data('prev', language_choice_select.val());\n\n    language_choice_select.on('change', function() {\n        $('.change_to_language_text').text($(this).find('option:selected').text());\n        $('#confirm-change-language-modal').modal('show');\n    });\n\n    $('#confirm-change-language-modal .btn-primary').on('click', function (event) {\n        event.preventDefault();\n        language_choice_select.val(language_choice_select.data('prev')).trigger('change');\n        $('#confirm-change-language-modal').modal('hide');\n    });\n\n    $('#confirm-change-language-button').on('click', function (event) {\n        event.preventDefault();\n        var _self = language_choice_select;\n        var flag_path = $('#language_flag_path').val();\n\n        $.ajax({\n            url: $('div[data-change-language-route]').data('change-language-route'),\n            data: {\n                lang_meta_current_language: _self.val(),\n                lang_meta_content_id: $('#lang_meta_content_id').val(),\n                lang_meta_reference: $('#lang_meta_reference').val(),\n                lang_meta_created_from: $('#lang_meta_created_from').val()\n            },\n            type: 'POST',\n            success: function(data) {\n                $('.active-language').html('<img src=\"' + flag_path + _self.find('option:selected').data('flag') + '.png\" title=\"' + _self.find('option:selected').text() + '\" alt=\"' + _self.find('option:selected').text() + '\" />');\n                if (!data.error) {\n                    $('.current_language_text').text(_self.find('option:selected').text());\n                    var html = '';\n                    $.each(data.data, function (index, el) {\n                        html += '<img src=\"' + flag_path + el.lang_flag + '.png\" title=\"' + el.lang_name + '\" alt=\"' + el.lang_name + '\">';\n                        if (el.lang_meta_content_id) {\n                            html += '<a href=\"' + $('#route_edit').val() + '\"> ' + el.lang_name + ' <i class=\"fa fa-edit\"></i> </a><br />';\n                        } else {\n                            html += '<a href=\"' + $('#route_create').val() + '?ref_from=' + $('#content_id').val() +'&ref_lang=' + index + '\"> ' + el.lang_name + ' <i class=\"fa fa-plus\"></i> </a><br />';\n                        }\n                    });\n\n                    $('#list-others-language').html(html);\n                    $('#confirm-change-language-modal').modal('hide');\n                    language_choice_select.data('prev', language_choice_select.val());\n                }\n            },\n            error: function(data) {\n                Botble.showNotice('error', data.message, Botble.languages.notices_msg.error);\n            }\n        });\n    });\n});\n\nvar BBLanguage = {\n    init: function () {\n        $(document).on('click', '.change-data-language-item', function (event) {\n            event.preventDefault();\n            window.location.href = $(this).find('a span').data('href');\n        });\n    }\n};\n\n$(document).ready(function () {\n    BBLanguage.init();\n});"]}