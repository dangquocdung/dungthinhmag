{"version":3,"file":"/js/integrate.js","sources":["webpack:////js/integrate.js"],"sourcesContent":["!function(e){function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p=\"\",n(n.s=17)}({0:function(e,n,t){\"use strict\";function a(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}t.d(n,\"a\",function(){return r});var i=t(1),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),r=function(){function e(){a(this,e)}return o(e,null,[{key:\"getUrlParam\",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n||(n=window.location.search);var t=new RegExp(\"(?:[?&]|&)\"+e+\"=([^&]+)\",\"i\"),a=n.match(t);return a&&a.length>1?a[1]:null}},{key:\"asset\",value:function(e){if(\"//\"==e.substring(0,2)||\"http://\"==e.substring(0,7)||\"https://\"==e.substring(0,8))return e;var n=\"/\"!=RV_MEDIA_URL.base_url.substr(-1,1)?RV_MEDIA_URL.base_url+\"/\":RV_MEDIA_URL.base_url;return\"/\"==e.substring(0,1)?n+e.substring(1):n+e}},{key:\"showAjaxLoading\",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(\".rv-media-items\")).addClass(\"on-loading\").append($(\"#rv_media_loading\").html())}},{key:\"hideAjaxLoading\",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(\".rv-media-items\")).removeClass(\"on-loading\").find(\".loading-wrapper\").remove()}},{key:\"isOnAjaxLoading\",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(\".rv-media-items\")).hasClass(\"on-loading\")}},{key:\"jsonEncode\",value:function(e){return void 0===e&&(e=null),JSON.stringify(e)}},{key:\"jsonDecode\",value:function(e,n){if(!e)return n;if(\"string\"==typeof e){var t=void 0;try{t=$.parseJSON(e)}catch(e){t=n}return t}return e}},{key:\"getRequestParams\",value:function(){return\"modal\"==e.getUrlParam(\"open_in\")?$.extend(!0,i.a.request_params,window.rvMedia.options||{}):i.a.request_params}},{key:\"getConfigs\",value:function(){return i.a}},{key:\"storeConfig\",value:function(){localStorage.setItem(\"MediaConfig\",e.jsonEncode(i.a))}},{key:\"storeRecentItems\",value:function(){localStorage.setItem(\"RecentItems\",e.jsonEncode(i.b))}},{key:\"addToRecent\",value:function(e){e instanceof Array?_.each(e,function(e){i.b.push(e)}):i.b.push(e)}},{key:\"getItems\",value:function(){var e=[];return $(\".js-media-list-title\").each(function(){var n=$(this),t=n.data()||{};t.index_key=n.index(),e.push(t)}),e}},{key:\"getSelectedItems\",value:function(){var e=[];return $(\".js-media-list-title input[type=checkbox]:checked\").each(function(){var n=$(this).closest(\".js-media-list-title\"),t=n.data()||{};t.index_key=n.index(),e.push(t)}),e}},{key:\"getSelectedFiles\",value:function(){var e=[];return $(\".js-media-list-title[data-context=file] input[type=checkbox]:checked\").each(function(){var n=$(this).closest(\".js-media-list-title\"),t=n.data()||{};t.index_key=n.index(),e.push(t)}),e}},{key:\"getSelectedFolder\",value:function(){var e=[];return $(\".js-media-list-title[data-context=folder] input[type=checkbox]:checked\").each(function(){var n=$(this).closest(\".js-media-list-title\"),t=n.data()||{};t.index_key=n.index(),e.push(t)}),e}},{key:\"isUseInModal\",value:function(){return\"select-files\"==e.getUrlParam(\"media-action\")||window.rvMedia&&window.rvMedia.options&&\"modal\"==window.rvMedia.options.open_in}}]),e}()},1:function(e,n,t){\"use strict\";t.d(n,\"a\",function(){return a}),t.d(n,\"b\",function(){return o});var a=$.parseJSON(localStorage.getItem(\"MediaConfig\"))||{},i={app_key:\"483a0xyzytz1242c0d520426e8ba366c530c3d9dxxx\",request_params:{view_type:\"tiles\",filter:\"everything\",view_in:\"my_media\",search:\"\",sort_by:\"created_at-desc\",folder_id:0},hide_details_pane:!1,icons:{folder:\"fa fa-folder-o\"},actions_list:{basic:[{icon:\"fa fa-eye\",name:\"Preview\",action:\"preview\",order:0,class:\"rv-action-preview\"}],file:[{icon:\"fa fa-link\",name:\"Copy link\",action:\"copy_link\",order:0,class:\"rv-action-copy-link\"},{icon:\"fa fa-pencil\",name:\"Rename\",action:\"rename\",order:1,class:\"rv-action-rename\"},{icon:\"fa fa-copy\",name:\"Make a copy\",action:\"make_copy\",order:2,class:\"rv-action-make-copy\"},{icon:\"fa fa-dot-circle-o\",name:\"Set focus point\",action:\"set_focus_point\",order:3,class:\"rv-action-set-focus-point\"}],user:[{icon:\"fa fa-share-alt\",name:\"Share\",action:\"share\",order:0,class:\"rv-action-share\"},{icon:\"fa fa-ban\",name:\"Remove share\",action:\"remove_share\",order:1,class:\"rv-action-remove-share\"},{icon:\"fa fa-star\",name:\"Favorite\",action:\"favorite\",order:2,class:\"rv-action-favorite\"},{icon:\"fa fa-star-o\",name:\"Remove favorite\",action:\"remove_favorite\",order:3,class:\"rv-action-favorite\"}],other:[{icon:\"fa fa-download\",name:\"Download\",action:\"download\",order:0,class:\"rv-action-download\"},{icon:\"fa fa-trash\",name:\"Move to trash\",action:\"trash\",order:1,class:\"rv-action-trash\"},{icon:\"fa fa-eraser\",name:\"Delete permanently\",action:\"delete\",order:2,class:\"rv-action-delete\"},{icon:\"fa fa-undo\",name:\"Restore\",action:\"restore\",order:3,class:\"rv-action-restore\"}]},denied_download:[\"youtube\"]};a.app_key&&a.app_key===i.app_key||(a=i);var o=$.parseJSON(localStorage.getItem(\"RecentItems\"))||[]},17:function(e,n,t){e.exports=t(5)},5:function(e,n,t){\"use strict\";function a(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0}),t.d(n,\"EditorService\",function(){return r});var i=t(0),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),r=function(){function e(){a(this,e)}return o(e,null,[{key:\"editorSelectFile\",value:function(e){var n=i.a.getUrlParam(\"CKEditor\")||i.a.getUrlParam(\"CKEditorFuncNum\");if(window.opener&&n){var t=_.first(e);window.opener.CKEDITOR.tools.callFunction(i.a.getUrlParam(\"CKEditorFuncNum\"),t.url),window.opener&&window.close()}}}]),e}(),c=function e(n,t){a(this,e),window.rvMedia=window.rvMedia||{};var o=$(\"body\"),r={multiple:!0,type:\"*\",onSelectFiles:function(e,n){}};t=$.extend(!0,r,t);var c=function(e){e.preventDefault();var n=$(this);$(\"#rv_media_modal\").modal(),window.rvMedia.options=t,window.rvMedia.options.open_in=\"modal\",window.rvMedia.$el=n,0==$(\"#rv_media_body .rv-media-container\").length?$(\"#rv_media_body\").load(RV_MEDIA_URL.popup,function(e){e.error&&alert(e.message),$(document).find(\".rv-media-container .js-change-action[data-type=refresh]\").trigger(\"click\"),$(\"#rv_media_body\").removeClass(\"media-modal-loading\").closest(\".modal-content\").removeClass(\"bb-loading\")}):$(document).find(\".rv-media-container .js-change-action[data-type=refresh]\").trigger(\"click\")};\"string\"==typeof n?o.on(\"click\",n,c):n.on(\"click\",c),$(\"#rv_media_modal\").off(\"click\",\".js-insert-to-editor\").on(\"click\",\".js-insert-to-editor\",function(e){e.preventDefault();var n=i.a.getSelectedFiles();_.size(n)>0&&(window.rvMedia.options.onSelectFiles(n,window.rvMedia.$el),$(\"#rv_media_modal\").modal(\"hide\"))}),$(\"#rv_media_modal\").off(\"dblclick\",\".js-media-list-title\").on(\"dblclick\",\".js-media-list-title\",function(e){e.preventDefault();var n=i.a.getSelectedFiles();_.size(n)>0&&(window.rvMedia.options.onSelectFiles(n,window.rvMedia.$el),$(\"#rv_media_modal\").modal(\"hide\"))})};window.RvMediaStandAlone=c,$(\".js-insert-to-editor\").off(\"click\").on(\"click\",function(e){e.preventDefault();var n=i.a.getSelectedFiles();_.size(n)>0&&r.editorSelectFile(n)}),$.fn.rvMedia=function(e){var n=$(this);new c(n,e)}}});\n\n\n// WEBPACK FOOTER //\n// /js/integrate.js"],"mappings":"AAAA","sourceRoot":""}