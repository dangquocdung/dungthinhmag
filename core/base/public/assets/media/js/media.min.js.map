{"version":3,"names":[],"mappings":"","sources":["media.min.js"],"sourcesContent":["!function(e){\"use strict\";var t=$.parseJSON(localStorage.getItem(\"MediaConfig\"))||{},a={app_key:\"483a0xyzytz1242c0d520426e8ba366c530c3d9dx\",request_params:{view_type:\"tiles\",filter:\"everything\",view_in:\"my_media\",search:\"\",sort_by:\"created_at-desc\",folder_id:0},hide_details_pane:!1,translation_text:{name:\"Name\",url:\"Url\",full_url:\"Url\",size:\"Size\",mime_type:\"Type\",created_at:\"Uploaded at\",updated_at:\"Modified at\",nothing_selected:\"Nothing is selected\",visit_link:\"Open link\",add_from:{youtube:{original_msg:\"Please input Youtube URL\",no_api_key_msg:\"Please specify the Youtube API key\",invalid_url_msg:\"Your link is not belongs to Youtube\",error_msg:\"Some error occurred...\"}},no_item:{my_media:{icon:\"fa fa-cloud-upload\",title:\"Drop files and folders here\",message:\"Or use the upload button above.\"},trash:{icon:\"fa fa-trash\",title:\"There is nothing in your trash currently.\",message:\"Delete files to move them to trash automatically. Delete files from trash to remove them permanently.\"},favorites:{icon:\"fa fa-star\",title:\"You have not added anything to your favorites yet.\",message:\"Add files to favorites to easily find them later.\"},shared:{icon:\"fa fa-share-alt\",title:\"You have not shared anything\",message:\"Any files in shared place will be visible to people that you shared\"},shared_with_me:{icon:\"fa fa-share-alt\",title:\"You have not received anything from others\",message:\"Nothing here\"},recent:{icon:\"fa fa-clock-o\",title:\"You have not added anything to your favorites yet.\",message:\"Add files to favorites to easily find them later.\"},\"public\":{icon:\"fa fa-refresh\",title:\"No public items\",message:\"This directory has no item\"},\"default\":{icon:\"fa fa-refresh\",title:\"No items\",message:\"This directory has no item\"}},clipboard:{success:\"These file links has been copied to clipboard\"},message:{error_header:\"Error!\",success_header:\"Success!\"},download:{error:\"No files selected or cannot download these files\"}},icons:{folder:\"fa fa-folder-o\"},actions_list:{basic:[{icon:\"fa fa-eye\",name:\"Preview\",action:\"preview\",order:0,\"class\":\"rv-action-preview\"}],file:[{icon:\"fa fa-link\",name:\"Copy link\",action:\"copy_link\",order:0,\"class\":\"rv-action-copy-link\"},{icon:\"fa fa-pencil\",name:\"Rename\",action:\"rename\",order:1,\"class\":\"rv-action-rename\"},{icon:\"fa fa-copy\",name:\"Make a copy\",action:\"make_copy\",order:2,\"class\":\"rv-action-make-copy\"},{icon:\"fa fa-dot-circle-o\",name:\"Set focus point\",action:\"set_focus_point\",order:3,\"class\":\"rv-action-set-focus-point\"}],user:[{icon:\"fa fa-share-alt\",name:\"Share\",action:\"share\",order:0,\"class\":\"rv-action-share\"},{icon:\"fa fa-ban\",name:\"Remove share\",action:\"remove_share\",order:1,\"class\":\"rv-action-remove-share\"},{icon:\"fa fa-star\",name:\"Favorite\",action:\"favorite\",order:2,\"class\":\"rv-action-favorite\"},{icon:\"fa fa-star-o\",name:\"Remove favorite\",action:\"remove_favorite\",order:3,\"class\":\"rv-action-favorite\"}],other:[{icon:\"fa fa-download\",name:\"Download\",action:\"download\",order:0,\"class\":\"rv-action-download\"},{icon:\"fa fa-trash\",name:\"Move to trash\",action:\"trash\",order:1,\"class\":\"rv-action-trash\"},{icon:\"fa fa-eraser\",name:\"Delete permanently\",action:\"delete\",order:2,\"class\":\"rv-action-delete\"},{icon:\"fa fa-undo\",name:\"Restore\",action:\"restore\",order:3,\"class\":\"rv-action-restore\"}]},denied_download:[\"youtube\"]};t.app_key&&t.app_key===a.app_key||(t=a);var i=$.parseJSON(localStorage.getItem(\"RecentItems\"))||[],o=function(){};o.getUrlParam=function(e,t){void 0===t&&(t=null),t||(t=window.location.search);var a=new RegExp(\"(?:[?&]|&)\"+e+\"=([^&]+)\",\"i\"),i=t.match(a);return i&&i.length>1?i[1]:null},o.asset=function(e){if(\"//\"==e.substring(0,2)||\"http://\"==e.substring(0,7)||\"https://\"==e.substring(0,8))return e;var t=\"/\"!=RV_MEDIA_URL.base_url.substr(-1,1)?RV_MEDIA_URL.base_url+\"/\":RV_MEDIA_URL.base_url;return\"/\"==e.substring(0,1)?t+e.substring(1):t+e},o.showAjaxLoading=function(e){void 0===e&&(e=$(\".rv-media-items\")),e.addClass(\"on-loading\").append($(\"#rv_media_loading\").html())},o.hideAjaxLoading=function(e){void 0===e&&(e=$(\".rv-media-items\")),e.removeClass(\"on-loading\").find(\".loading-wrapper\").remove()},o.isOnAjaxLoading=function(e){return void 0===e&&(e=$(\".rv-media-items\")),e.hasClass(\"on-loading\")},o.jsonEncode=function(e){return\"undefined\"==typeof e&&(e=null),JSON.stringify(e)},o.jsonDecode=function(e,t){if(!e)return t;if(\"string\"==typeof e){var a;try{a=$.parseJSON(e)}catch(i){a=t}return a}return e},o.getRequestParams=function(){return\"modal\"==o.getUrlParam(\"open_in\")?$.extend(!0,t.request_params,window.rvMedia.options||{}):t.request_params},o.getConfigs=function(){return t},o.storeConfig=function(){localStorage.setItem(\"MediaConfig\",o.jsonEncode(t))},o.storeRecentItems=function(){localStorage.setItem(\"RecentItems\",o.jsonEncode(i))},o.addToRecent=function(e){e instanceof Array?_.each(e,function(e){i.push(e)}):i.push(e)},o.getItems=function(){var e=[];return $(\".js-media-list-title\").each(function(){var t=$(this),a=t.data()||{};a.index_key=t.index(),e.push(a)}),e},o.getSelectedItems=function(){var e=[];return $(\".js-media-list-title input[type=checkbox]:checked\").each(function(){var t=$(this).closest(\".js-media-list-title\"),a=t.data()||{};a.index_key=t.index(),e.push(a)}),e},o.getSelectedFiles=function(){var e=[];return $(\".js-media-list-title[data-context=file] input[type=checkbox]:checked\").each(function(){var t=$(this).closest(\".js-media-list-title\"),a=t.data()||{};a.index_key=t.index(),e.push(a)}),e},o.getSelectedFolder=function(){var e=[];return $(\".js-media-list-title[data-context=folder] input[type=checkbox]:checked\").each(function(){var t=$(this).closest(\".js-media-list-title\"),a=t.data()||{};a.index_key=t.index(),e.push(a)}),e},o.isUseInModal=function(){return\"select-files\"==o.getUrlParam(\"media-action\")||window.rvMedia&&window.rvMedia.options&&\"modal\"==window.rvMedia.options.open_in};var r=function(){};r.showMessage=function(e,t,a){toastr.options={closeButton:!0,progressBar:!0,positionClass:\"toast-bottom-right\",onclick:null,showDuration:1e3,hideDuration:1e3,timeOut:1e4,extendedTimeOut:1e3,showEasing:\"swing\",hideEasing:\"linear\",showMethod:\"fadeIn\",hideMethod:\"fadeOut\"},toastr[e](t,a)},r.handleError=function(e){\"undefined\"!=typeof e.responseJSON?\"undefined\"!=typeof e.responseJSON.message?r.showMessage(\"error\",e.responseJSON.message,o.getConfigs().translation_text.message.error_header):$.each(e.responseJSON,function(e,t){$.each(t,function(e,t){r.showMessage(\"error\",t,o.getConfigs().translation_text.message.error_header)})}):r.showMessage(\"error\",e.statusText,o.getConfigs().translation_text.message.error_header)};var n=function(){};n.handleDropdown=function(){var e=_.size(o.getSelectedItems());n.renderActions(),e>0?$(\".rv-dropdown-actions\").removeClass(\"disabled\"):$(\".rv-dropdown-actions\").addClass(\"disabled\")},n.handlePreview=function(){var e=[];_.each(o.getSelectedFiles(),function(t,a){_.contains([\"image\",\"youtube\",\"pdf\",\"text\"],t.type)&&(e.push({src:t.url}),i.push(t.id))}),_.size(e)>0?($.fancybox.open(e),o.storeRecentItems()):this.handleGlobalAction(\"download\")},n.handleCopyLink=function(){var e=\"\";_.each(o.getSelectedFiles(),function(t,a){_.isEmpty(e)||(e+=\"\\n\"),e+=t.full_url});var t=$(\".js-rv-clipboard-temp\");t.data(\"clipboard-text\",e),new Clipboard(\".js-rv-clipboard-temp\",{text:function(t){return e}}),r.showMessage(\"success\",o.getConfigs().translation_text.clipboard.success,o.getConfigs().translation_text.message.success_header),t.trigger(\"click\")},n.handleGlobalAction=function(e,t){var a=[];switch(_.each(o.getSelectedItems(),function(e,t){a.push({is_folder:e.is_folder,id:e.id,full_url:e.full_url,focus:e.focus})}),e){case\"rename\":$(\"#modal_rename_items\").modal(\"show\").find(\"form.rv-form\").data(\"action\",e);break;case\"copy_link\":n.handleCopyLink();break;case\"preview\":n.handlePreview();break;case\"set_focus_point\":var i=$(\"#modal_set_focus_point\");0===a[0].focus.length?(i.find(\".helper-tool-data-attr\").val(\"\"),i.find(\".helper-tool-css3-val\").val(\"\"),i.find(\".helper-tool-reticle-css\").val(\"\"),$(\".reticle\").removeAttr(\"style\")):(i.find(\".helper-tool-data-attr\").val(a[0].focus.data_attribute),i.find(\".helper-tool-css3-val\").val(a[0].focus.css_bg_position),i.find(\".helper-tool-reticle-css\").val(a[0].focus.retice_css),$(\".reticle\").prop(\"style\",a[0].focus.retice_css)),i.modal(\"show\").find(\"form.rv-form\").data(\"action\",e).data(\"image\",a[0].full_url);break;case\"trash\":$(\"#modal_trash_items\").modal(\"show\").find(\"form.rv-form\").data(\"action\",e);break;case\"delete\":$(\"#modal_delete_items\").modal(\"show\").find(\"form.rv-form\").data(\"action\",e);break;case\"share\":$(\"#modal_share_items\").modal(\"show\").find(\"form.rv-form\").data(\"action\",e);break;case\"empty_trash\":$(\"#modal_empty_trash\").modal(\"show\").find(\"form.rv-form\").data(\"action\",e);break;case\"download\":var s=RV_MEDIA_URL.download,d=0;_.each(o.getSelectedItems(),function(e,t){_.contains(o.getConfigs().denied_download,e.mime_type)||(s+=(0===d?\"?\":\"&\")+\"selected[\"+d+\"][is_folder]=\"+e.is_folder+\"&selected[\"+d+\"][id]=\"+e.id,d++)}),s!==RV_MEDIA_URL.download?window.open(s,\"_blank\"):r.showMessage(\"error\",o.getConfigs().translation_text.download.error,o.getConfigs().translation_text.message.error_header);break;default:n.processAction({selected:a,action:e},t)}},n.processAction=function(e,t){void 0===t&&(t=null),$.ajax({url:RV_MEDIA_URL.global_actions,type:\"POST\",data:e,dataType:\"json\",beforeSend:function(){o.showAjaxLoading()},success:function(e){e.error?r.showMessage(\"error\",e.message,o.getConfigs().translation_text.message.error_header):r.showMessage(\"success\",e.message,o.getConfigs().translation_text.message.success_header),t&&t(e)},complete:function(e){o.hideAjaxLoading()},error:function(e){r.handleError(e)}})},n.renderRenameItems=function(){var e=$(\"#rv_media_rename_item\").html(),t=$(\"#modal_rename_items .rename-items\").empty();_.each(o.getSelectedItems(),function(a,i){var o=e.replace(/__icon__/gi,a.icon||\"fa fa-file-o\").replace(/__placeholder__/gi,\"Input file name\").replace(/__value__/gi,a.name),r=$(o);r.data(\"id\",a.id),r.data(\"is_folder\",a.is_folder),r.data(\"name\",a.name),t.append(r)})},n.renderActions=function(){var e=o.getSelectedFolder().length>0,t=$(\"#rv_action_item\").html(),a=0,i=$(\".rv-dropdown-actions .dropdown-menu\");i.empty();var r=$.extend({},!0,o.getConfigs().actions_list);e&&(r.basic=_.reject(r.basic,function(e){return\"preview\"===e.action}),r.file=_.reject(r.file,function(e){return\"copy_link\"===e.action}),r.file=_.reject(r.file,function(e){return\"set_focus_point\"===e.action}),_.contains(RV_MEDIA_CONFIG.permissions,\"folders.create\")||(r.file=_.reject(r.file,function(e){return\"make_copy\"===e.action})),_.contains(RV_MEDIA_CONFIG.permissions,\"folders.edit\")||(r.file=_.reject(r.file,function(e){return _.contains([\"rename\"],e.action)}),r.user=_.reject(r.user,function(e){return _.contains([\"rename\",\"share\",\"remove_share\",\"un_share\"],e.action)})),_.contains(RV_MEDIA_CONFIG.permissions,\"folders.delete\")||(r.other=_.reject(r.other,function(e){return _.contains([\"trash\",\"delete\",\"restore\"],e.action)})));var n=o.getSelectedFiles();n.length>0&&\"image\"!==n[0].type&&(r.file=_.reject(r.file,function(e){return\"set_focus_point\"===e.action}));var s=!1;_.each(n,function(e){_.contains([\"image\",\"youtube\",\"pdf\",\"text\"],e.type)&&(s=!0)}),s||(r.basic=_.reject(r.basic,function(e){return\"preview\"===e.action})),\"simple\"===RV_MEDIA_CONFIG.mode&&(r.user=_.reject(r.user,function(e){return\"share\"===e.action}),r.user=_.reject(r.user,function(e){return\"remove_share\"===e.action})),n.length>0&&(_.contains(RV_MEDIA_CONFIG.permissions,\"files.create\")||(r.file=_.reject(r.file,function(e){return\"make_copy\"===e.action})),_.contains(RV_MEDIA_CONFIG.permissions,\"files.edit\")||(r.file=_.reject(r.file,function(e){return _.contains([\"rename\",\"set_focus_point\"],e.action)}),r.user=_.reject(r.user,function(e){return _.contains([\"share\",\"remove_share\",\"un_share\"],e.action)})),_.contains(RV_MEDIA_CONFIG.permissions,\"files.delete\")||(r.other=_.reject(r.other,function(e){return _.contains([\"trash\",\"delete\",\"restore\"],e.action)}))),_.each(r,function(e,r){_.each(e,function(e,r){var n=!1;switch(o.getRequestParams().view_in){case\"my_media\":_.contains([\"remove_favorite\",\"delete\",\"restore\",\"remove_share\"],e.action)&&(n=!0);break;case\"shared\":_.contains([\"remove_favorite\",\"delete\",\"restore\",\"make_copy\",\"remove_share\"],e.action)&&(n=!0);break;case\"shared_with_me\":_.contains([\"remove_favorite\",\"delete\",\"restore\",\"make_copy\",\"share\"],e.action)&&(n=!0);break;case\"public\":_.contains([\"remove_favorite\",\"delete\",\"restore\",\"make_copy\",\"share\",\"remove_share\"],e.action)&&(n=!0);break;case\"recent\":_.contains([\"remove_favorite\",\"delete\",\"restore\",\"make_copy\",\"remove_share\"],e.action)&&(n=!0);break;case\"favorites\":_.contains([\"favorite\",\"delete\",\"restore\",\"make_copy\",\"remove_share\"],e.action)&&(n=!0);break;case\"trash\":_.contains([\"preview\",\"delete\",\"restore\",\"rename\",\"download\"],e.action)||(n=!0)}if(!n){var s=t.replace(/__action__/gi,e.action||\"\").replace(/__icon__/gi,e.icon||\"\").replace(/__name__/gi,e.name||\"\");!r&&a&&(s='<li role=\"separator\" class=\"divider\"></li>'+s),i.append(s)}}),e.length>0&&a++})};var s=function(){};s.initContext=function(){$.contextMenu({selector:'.js-context-menu[data-context=\"file\"]',build:function(e,t){return{items:s._fileContextMenu()}}}),$.contextMenu({selector:'.js-context-menu[data-context=\"folder\"]',build:function(e,t){return{items:s._folderContextMenu()}}})},s._fileContextMenu=function(){var e={preview:{name:\"Preview\",icon:function(e,t,a,i){return t.html('<i class=\"fa fa-eye\" aria-hidden=\"true\"></i> '+i.name),\"context-menu-icon-updated\"},callback:function(e,t){n.handlePreview()}},set_focus_point:{name:\"Set focus point\",icon:function(e,t,a,i){return t.html('<i class=\"fa fa-dot-circle-o\" aria-hidden=\"true\"></i> '+i.name),\"context-menu-icon-updated\"},callback:function(e,t){$('.js-files-action[data-action=\"set_focus_point\"]').trigger(\"click\")}}};_.each(o.getConfigs().actions_list,function(t){_.each(t,function(t){e[t.action]={name:t.name,icon:function(e,a,i,o){return a.html('<i class=\"'+t.icon+'\" aria-hidden=\"true\"></i> '+o.name),\"context-menu-icon-updated\"},callback:function(e,a){$('.js-files-action[data-action=\"'+t.action+'\"]').trigger(\"click\")}}})});var t=[];switch(o.getRequestParams().view_in){case\"my_media\":t=[\"remove_favorite\",\"delete\",\"restore\",\"remove_share\"];break;case\"public\":t=[\"remove_favorite\",\"delete\",\"restore\",\"remove_share\"];break;case\"shared\":t=[\"make_copy\",\"remove_favorite\",\"delete\",\"restore\",\"remove_share\"];break;case\"shared_with_me\":t=[\"share\",\"remove_favorite\",\"delete\",\"restore\",\"make_copy\"];break;case\"recent\":t=[\"remove_favorite\",\"delete\",\"restore\",\"remove_share\",\"make_copy\"];break;case\"favorites\":t=[\"favorite\",\"delete\",\"restore\",\"remove_share\",\"make_copy\"];break;case\"trash\":return{preview:e.preview,rename:e.rename,download:e.download,\"delete\":e[\"delete\"],restore:e.restore}}_.each(t,function(t){e[t]=void 0}),o.getSelectedItems().length>1&&(e.set_focus_point=void 0);var a=o.getSelectedFolder().length>0;a&&(e.preview=void 0,e.set_focus_point=void 0,e.copy_link=void 0,_.contains(RV_MEDIA_CONFIG.permissions,\"folders.create\")||(e.make_copy=void 0),_.contains(RV_MEDIA_CONFIG.permissions,\"folders.edit\")||(e.rename=void 0,e.share=void 0,e.remove_share=void 0,e.un_share=void 0),_.contains(RV_MEDIA_CONFIG.permissions,\"folders.delete\")||(e.trash=void 0,e[\"delete\"]=void 0,e.restore=void 0));var i=o.getSelectedFiles();i.length>0&&\"image\"!==i[0].type&&(e.set_focus_point=void 0),i.length>0&&(_.contains(RV_MEDIA_CONFIG.permissions,\"files.create\")||(e.make_copy=void 0),_.contains(RV_MEDIA_CONFIG.permissions,\"files.edit\")||(e.rename=void 0,e.set_focus_point=void 0,e.share=void 0,e.remove_share=void 0,e.un_share=void 0),_.contains(RV_MEDIA_CONFIG.permissions,\"files.delete\")||(e.trash=void 0,e[\"delete\"]=void 0,e.restore=void 0));var r=!1;return _.each(i,function(e){_.contains([\"image\",\"youtube\",\"pdf\",\"text\"],e.type)&&(r=!0)}),r||(e.preview=void 0),\"simple\"===RV_MEDIA_CONFIG.mode&&(e.share=void 0,e.remove_share=void 0),e},s._folderContextMenu=function(){var e=s._fileContextMenu();return e.preview=void 0,e.set_focus_point=void 0,e.copy_link=void 0,e},s.destroyContext=function(){$.contextMenu(\"destroy\")};var d=function(){this.group={},this.group.list=$(\"#rv_media_items_list\").html(),this.group.tiles=$(\"#rv_media_items_tiles\").html(),this.item={},this.item.list=$(\"#rv_media_items_list_element\").html(),this.item.tiles=$(\"#rv_media_items_tiles_element\").html(),this.$groupContainer=$(\".rv-media-items\")};d.prototype.renderData=function(e,t){void 0===t&&(t=!1);var a=this,i=o.getConfigs(),r=a.group[o.getRequestParams().view_type],s=o.getRequestParams().view_in;_.contains([\"my_media\",\"public\",\"trash\",\"favorites\",\"shared\",\"shared_with_me\",\"recent\"],s)||(s=\"my_media\"),r=r.replace(/__noItemIcon__/gi,i.translation_text.no_item[s].icon||\"\").replace(/__noItemTitle__/gi,i.translation_text.no_item[s].title||\"\").replace(/__noItemMessage__/gi,i.translation_text.no_item[s].message||\"\");var d=$(r),c=d.find(\"ul\");_.size(e.folders)>0||_.size(e.files)>0?$(\".rv-media-items\").addClass(\"has-items\"):$(\".rv-media-items\").removeClass(\"has-items\"),_.forEach(e.folders,function(e,t){var r=a.item[o.getRequestParams().view_type];r=r.replace(/__type__/gi,\"folder\").replace(/__name__/gi,e.name||\"\").replace(/__size__/gi,\"\").replace(/__date__/gi,e.created_at||\"\").replace(/__thumb__/gi,'<i class=\"fa fa-folder-o\"></i>');var n=$(r);_.forEach(e,function(e,t){n.data(t,e)}),n.data(\"is_folder\",!0),n.data(\"icon\",i.icons.folder),c.append(n)}),_.forEach(e.files,function(e){var t=a.item[o.getRequestParams().view_type];if(t=t.replace(/__type__/gi,\"file\").replace(/__name__/gi,e.name||\"\").replace(/__size__/gi,e.size||\"\").replace(/__date__/gi,e.created_at||\"\"),\"list\"==o.getRequestParams().view_type)t=t.replace(/__thumb__/gi,'<i class=\"'+e.icon+'\"></i>');else switch(e.mime_type){case\"youtube\":t=t.replace(/__thumb__/gi,'<img src=\"'+e.options.thumb+'\" alt=\"'+e.name+'\">');break;default:t=t.replace(/__thumb__/gi,e.thumb?'<img src=\"'+e.thumb+'\" alt=\"'+e.name+'\">':'<i class=\"'+e.icon+'\"></i>')}var i=$(t);i.data(\"is_folder\",!1),_.forEach(e,function(e,t){i.data(t,e)}),c.append(i)}),0!=t&&a.$groupContainer.empty(),a.$groupContainer.append(d),a.$groupContainer.find(\".loading-wrapper\").remove(),n.handleDropdown()},d.prototype.getGroupContainer=function(){return this.$groupContainer};var c=function(){this.$detailsWrapper=$(\".rv-media-main .rv-media-details\"),this.descriptionItemTemplate='<div class=\"rv-media-name\"><p>__title__</p>__url__</div>',this.onlyFields=[\"name\",\"full_url\",\"size\",\"mime_type\",\"created_at\",\"updated_at\",\"nothing_selected\"],this.externalTypes=[\"youtube\",\"vimeo\",\"metacafe\",\"dailymotion\",\"vine\",\"instagram\"]};c.prototype.renderData=function(e){var t=this,a=\"image\"==e.type?'<img src=\"'+e.full_url+'\" alt=\"'+e.name+'\">':\"youtube\"==e.mime_type?'<img src=\"'+e.options.thumb+'\" alt=\"'+e.name+'\">':'<i class=\"'+e.icon+'\"></i>',i=\"\",r=!1;if(_.forEach(e,function(a,n){_.contains(t.onlyFields,n)&&(!_.contains(t.externalTypes,e.type)||_.contains(t.externalTypes,e.type)&&!_.contains([\"size\",\"mime_type\"],n))&&(i+=t.descriptionItemTemplate.replace(/__title__/gi,o.getConfigs().translation_text[n]).replace(/__url__/gi,a?\"full_url\"==n?'<div class=\"input-group\"><input id=\"file_details_url\" type=\"text\" value=\"'+a+'\" class=\"form-control\"><span class=\"input-group-btn\"><button class=\"btn btn-default js-btn-copy-to-clipboard\" type=\"button\" data-clipboard-target=\"#file_details_url\" title=\"Copied\" data-trigger=\"click\"><img class=\"clippy\" src=\"'+o.asset(\"/vendor/media/images/clippy.svg\")+'\" width=\"13\" alt=\"Copy to clipboard\"></button></span></div>':'<span title=\"'+a+'\">'+a+\"</span>\":\"\"),\"full_url\"==n&&(r=!0))}),t.$detailsWrapper.find(\".rv-media-thumbnail\").html(a),t.$detailsWrapper.find(\".rv-media-description\").html(i),r){new Clipboard(\".js-btn-copy-to-clipboard\");$(\".js-btn-copy-to-clipboard\").tooltip().on(\"mouseleave\",function(e){$(this).tooltip(\"hide\")})}};var l=function(){this.MediaList=new d,this.MediaDetails=new c,this.breadcrumbTemplate=$(\"#rv_media_breadcrumb_item\").html()};l.prototype.getMedia=function(e){void 0===e&&(e=!1);var t=this,a=o.getRequestParams();\"recent\"==a.view_in&&(a.recent_items=i),$.ajax({url:RV_MEDIA_URL.get_media,type:\"GET\",data:a,dataType:\"json\",beforeSend:function(){o.showAjaxLoading()},success:function(a){t.MediaList.renderData(a.data,e),t.fetchQuota(),t.renderBreadcrumbs(a.data.breadcrumbs),l.refreshFilter(),n.renderActions(),t.getFileDetails({icon:\"fa fa-picture-o\",nothing_selected:\"\"})},complete:function(e){o.hideAjaxLoading()},error:function(e){r.handleError(e)}})},l.prototype.getFileDetails=function(e){this.MediaDetails.renderData(e)},l.prototype.fetchQuota=function(){$.ajax({url:RV_MEDIA_URL.get_quota,type:\"GET\",dataType:\"json\",beforeSend:function(){},success:function(e){var t=e.data;$(\".rv-media-aside-bottom .used-analytics span\").html(t.used+\" / \"+t.quota),$(\".rv-media-aside-bottom .progress-bar\").css({width:t.percent+\"%\"})},error:function(e){r.handleError(e)}})},l.prototype.renderBreadcrumbs=function(e){var t=this,a=$(\".rv-media-breadcrumb .breadcrumb\");a.find(\"li\").remove(),_.each(e,function(e,i){var o=t.breadcrumbTemplate;o=o.replace(/__name__/gi,e.name||\"\").replace(/__icon__/gi,e.icon?'<i class=\"'+e.icon+'\"></i>':\"\").replace(/__folderId__/gi,e.id||0),a.append($(o))}),$(\".rv-media-container\").attr(\"data-breadcrumb-count\",_.size(e))},l.refreshFilter=function(){var e=$(\".rv-media-container\"),t=o.getRequestParams().view_in;\"my_media\"!=t&&(\"shared\"!=t&&\"shared_with_me\"!=t&&\"public\"!=t||0==o.getRequestParams().folder_id)?($('.rv-media-actions .btn:not([data-type=\"refresh\"]):not(label)').addClass(\"disabled\"),e.attr(\"data-allow-upload\",\"false\")):($('.rv-media-actions .btn:not([data-type=\"refresh\"]):not(label)').removeClass(\"disabled\"),e.attr(\"data-allow-upload\",\"true\")),$(\".rv-media-actions .btn.js-rv-media-change-filter-group\").removeClass(\"disabled\");var a=$('.rv-media-actions .btn[data-action=\"empty_trash\"]');\"trash\"==t?(a.removeClass(\"hidden\").removeClass(\"disabled\"),_.size(o.getItems())||a.addClass(\"hidden\").addClass(\"disabled\")):a.addClass(\"hidden\"),s.destroyContext(),s.initContext(),e.attr(\"data-view-in\",t)};var u=function(){this.MediaList=new d,this.MediaService=new l,$(\"body\").on(\"shown.bs.modal\",\"#modal_add_folder\",function(){$(this).find(\".form-add-folder input[type=text]\").focus()})};u.prototype.create=function(e){var t=this;$.ajax({url:RV_MEDIA_URL.create_folder,type:\"POST\",data:{parent_id:o.getRequestParams().folder_id,name:e},dataType:\"json\",beforeSend:function(){o.showAjaxLoading()},success:function(e){e.error?r.showMessage(\"error\",e.message,o.getConfigs().translation_text.message.error_header):(r.showMessage(\"success\",e.message,o.getConfigs().translation_text.message.success_header),t.MediaService.getMedia(!0),u.closeModal())},complete:function(e){o.hideAjaxLoading()},error:function(e){r.handleError(e)}})},u.prototype.changeFolder=function(e){t.request_params.folder_id=e,o.storeConfig(),this.MediaService.getMedia(!0)},u.closeModal=function(){$(\"#modal_add_folder\").modal(\"hide\")};var m=function(){this.$body=$(\"body\"),this.dropZone=null,this.uploadUrl=RV_MEDIA_URL.upload_file,this.uploadProgressBox=$(\".rv-upload-progress\"),this.uploadProgressContainer=$(\".rv-upload-progress .rv-upload-progress-table\"),this.uploadProgressTemplate=$(\"#rv_media_upload_progress_item\").html(),this.totalQueued=1,this.MediaService=new l,this.totalError=0};m.prototype.init=function(){this.setupDropZone(),this.handleEvents()},m.prototype.setupDropZone=function(){var e=this;e.dropZone=new Dropzone(document.querySelector(\".rv-media-items\"),{url:e.uploadUrl,thumbnailWidth:!1,thumbnailHeight:!1,parallelUploads:1,autoQueue:!0,clickable:\".js-dropzone-upload\",previewTemplate:!1,previewsContainer:!1,uploadMultiple:!0,sending:function(e,t,a){a.append(\"_token\",$('meta[name=\"csrf-token\"]').attr(\"content\")),a.append(\"folder_id\",o.getRequestParams().folder_id),a.append(\"view_in\",o.getRequestParams().view_in)}}),e.dropZone.on(\"addedfile\",function(t){t.index=e.totalQueued,e.totalQueued++}),e.dropZone.on(\"sending\",function(t){e.initProgress(t.name,t.size)}),e.dropZone.on(\"success\",function(e){}),e.dropZone.on(\"complete\",function(t){e.changeProgressStatus(t)}),e.dropZone.on(\"queuecomplete\",function(){e.MediaService.getMedia(!0),0===e.totalError&&setTimeout(function(){$(\".rv-upload-progress .close-pane\").trigger(\"click\")},5e3)})},m.prototype.handleEvents=function(){var e=this;e.$body.on(\"click\",\".rv-upload-progress .close-pane\",function(t){t.preventDefault(),$(\".rv-upload-progress\").addClass(\"hide-the-pane\"),e.totalError=0,setTimeout(function(){$(\".rv-upload-progress li\").remove(),e.totalQueued=1},300)})},m.prototype.initProgress=function(e,t){var a=this.uploadProgressTemplate.replace(/__fileName__/gi,e).replace(/__fileSize__/gi,m.formatFileSize(t)).replace(/__status__/gi,\"warning\").replace(/__message__/gi,\"Uploading\");this.uploadProgressContainer.append(a),this.uploadProgressBox.removeClass(\"hide-the-pane\"),this.uploadProgressBox.find(\".panel-body\").animate({scrollTop:this.uploadProgressContainer.height()},150)},m.prototype.changeProgressStatus=function(e){var t=this,a=t.uploadProgressContainer.find(\"li:nth-child(\"+e.index+\")\"),i=a.find(\".label\");i.removeClass(\"label-success label-danger label-warning\");var r=o.jsonDecode(e.xhr.responseText||\"\",{});if(t.totalError=t.totalError+(r.error===!0||\"error\"===e.status?1:0),i.addClass(r.error===!0||\"error\"===e.status?\"label-danger\":\"label-success\"),i.html(r.error===!0||\"error\"===e.status?\"Error\":\"Uploaded\"),\"error\"===e.status)if(422===e.xhr.status){var n=\"\";$.each(r,function(e,t){n+='<span class=\"text-danger\">'+t+\"</span><br>\"}),a.find(\".file-error\").html(n)}else 500===e.xhr.status&&a.find(\".file-error\").html('<span class=\"text-danger\">'+e.xhr.statusText+\"</span>\");else r.error?a.find(\".file-error\").html('<span class=\"text-danger\">'+r.message+\"</span>\"):o.addToRecent(r.data.id)},m.formatFileSize=function(e,t){void 0===t&&(t=!1);var a=t?1e3:1024;if(Math.abs(e)<a)return e+\" B\";var i=[\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"],o=-1;do e/=a,++o;while(Math.abs(e)>=a&&o<i.length-1);return e.toFixed(1)+\" \"+i[o]};var f={youtube:{api_key:\"AIzaSyCV4fmfdgsValGNR3sc-0W3cbpEZ8uOd60\"}},p=function(){this.MediaService=new l,this.$body=$(\"body\"),this.$modal=$(\"#modal_add_from_youtube\");var e=this;this.setMessage(t.translation_text.add_from.youtube.original_msg),this.$modal.on(\"hidden.bs.modal\",function(){e.setMessage(t.translation_text.add_from.youtube.original_msg)}),this.$body.on(\"click\",\"#modal_add_from_youtube .rv-btn-add-youtube-url\",function(t){t.preventDefault(),e.checkYouTubeVideo($(this).closest(\"#modal_add_from_youtube\").find(\".rv-youtube-url\"))})};p.validateYouTubeLink=function(e){var t=/^(?:https?:\\/\\/)?(?:www\\.)?youtube\\.com\\/watch\\?(?=.*v=((\\w|-){11}))(?:\\S+)?$/;return!!e.match(t)&&RegExp.$1},p.getYouTubeId=function(e){var t=/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/,a=e.match(t);return a&&11==a[2].length?a[2]:null},p.getYoutubePlaylistId=function(e){var t=/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?list=|\\&list=)([^#\\&\\?]*).*/,a=e.match(t);return a?a[2]:null},p.prototype.setMessage=function(e){this.$modal.find(\".modal-notice\").html(e)},p.prototype.checkYouTubeVideo=function(e){function a(e,a){$.ajax({url:RV_MEDIA_URL.add_external_service,type:\"POST\",dataType:\"json\",data:{type:\"youtube\",name:e.items[0].snippet.title,folder_id:o.getRequestParams().folder_id,url:a,options:{thumb:\"https://img.youtube.com/vi/\"+e.items[0].id+\"/maxresdefault.jpg\"}},success:function(e){e.error?r.showMessage(\"error\",e.message,t.translation_text.message.error_header):(r.showMessage(\"success\",e.message,t.translation_text.message.success_header),n.MediaService.getMedia(!0))},error:function(e){r.handleError(e)}}),n.$modal.modal(\"hide\")}function i(e,t){n.$modal.modal(\"hide\")}var n=this;if(p.validateYouTubeLink(e.val())&&f.youtube.api_key){var s=p.getYouTubeId(e.val()),d=\"https://www.googleapis.com/youtube/v3/videos?id=\"+s,c=n.$modal.find('.custom-checkbox input[type=\"checkbox\"]').is(\":checked\");c&&(s=p.getYoutubePlaylistId(e.val()),d=\"https://www.googleapis.com/youtube/v3/playlistItems?playlistId=\"+s),$.ajax({url:d+\"&key=\"+f.youtube.api_key+\"&part=snippet\",type:\"GET\",success:function(t){c?i(t,e.val()):a(t,e.val())},error:function(e){n.setMessage(t.translation_text.add_from.youtube.error_msg)}})}else f.youtube.api_key?n.setMessage(t.translation_text.add_from.youtube.invalid_url_msg):n.setMessage(t.translation_text.add_from.youtube.no_api_key_msg)};var h=function(){new p},v=function(){};v.editorSelectFile=function(e){var t=o.getUrlParam(\"CKEditor\")||o.getUrlParam(\"CKEditorFuncNum\");if(window.opener&&t){var a=_.first(e);window.opener.CKEDITOR.tools.callFunction(o.getUrlParam(\"CKEditorFuncNum\"),a.url),window.opener&&window.close()}};var g=function(e,t){window.rvMedia=window.rvMedia||{};var a=$(\"body\"),i={multiple:!0,type:\"*\",onSelectFiles:function(e,t){}};t=$.extend(!0,i,t);var r=function(e){e.preventDefault();var a=$(this);$(\"#rv_media_modal\").modal(),window.rvMedia.options=t,window.rvMedia.options.open_in=\"modal\",window.rvMedia.$el=a,0==$(\"#rv_media_body .rv-media-container\").length?$(\"#rv_media_body\").load(RV_MEDIA_INTEGRATE_URL.popup,function(e){e.error&&alert(e.message),$(document).find(\".rv-media-container .js-change-action[data-type=refresh]\").trigger(\"click\"),$(\"#rv_media_body\").removeClass(\"media-modal-loading\").closest(\".modal-content\").removeClass(\"bb-loading\")}):$(document).find(\".rv-media-container .js-change-action[data-type=refresh]\").trigger(\"click\")};\"string\"==typeof e?a.on(\"click\",e,r):e.on(\"click\",r),$(\"#rv_media_modal\").off(\"click\",\".js-insert-to-editor\").on(\"click\",\".js-insert-to-editor\",function(e){e.preventDefault();var t=o.getSelectedFiles();_.size(t)>0&&(window.rvMedia.options.onSelectFiles(t,window.rvMedia.$el),$(\"#rv_media_modal\").modal(\"hide\"))}),$(\"#rv_media_modal\").off(\"dblclick\",\".js-media-list-title\").on(\"dblclick\",\".js-media-list-title\",function(e){e.preventDefault();var t=o.getSelectedFiles();_.size(t)>0&&(window.rvMedia.options.onSelectFiles(t,window.rvMedia.$el),$(\"#rv_media_modal\").modal(\"hide\"))})};window.RvMediaStandAlone=g,$(\".js-insert-to-editor\").off(\"click\").on(\"click\",function(e){e.preventDefault();var t=o.getSelectedFiles();_.size(t)>0&&v.editorSelectFile(t)}),$.fn.rvMedia=function(e){var t=$(this);new g(t,e)};var y=function(){this.MediaService=new l,this.UploadService=new m,this.FolderService=new u,new h,this.$body=$(\"body\")};y.prototype.init=function(){this.setupLayout(),this.handleMediaList(),this.changeViewType(),this.changeFilter(),this.search(),this.handleActions(),this.UploadService.init(),this.handleModals()},y.prototype.setupLayout=function(){var e=$('.js-rv-media-change-filter[data-type=\"filter\"][data-value=\"'+o.getRequestParams().filter+'\"]');e.closest(\"li\").addClass(\"active\").closest(\".dropdown\").find(\".js-rv-media-filter-current\").html(\"(\"+e.html()+\")\");var a=$('.js-rv-media-change-filter[data-type=\"view_in\"][data-value=\"'+o.getRequestParams().view_in+'\"]');a.closest(\"li\").addClass(\"active\").closest(\".dropdown\").find(\".js-rv-media-filter-current\").html(\"(\"+a.html()+\")\"),o.isUseInModal()&&$(\".rv-media-footer\").removeClass(\"hidden\"),$('.js-rv-media-change-filter[data-type=\"sort_by\"][data-value=\"'+o.getRequestParams().sort_by+'\"]').closest(\"li\").addClass(\"active\");var i=$(\"#media_details_collapse\");i.prop(\"checked\",t.hide_details_pane||!1),setTimeout(function(){$(\".rv-media-details\").removeClass(\"hidden\")},300),i.on(\"change\",function(e){e.preventDefault(),t.hide_details_pane=$(this).is(\":checked\"),o.storeConfig()})},y.prototype.handleMediaList=function(){var e=this,t=!1,a=!1,i=!1;$(document).on(\"keyup keydown\",function(e){t=e.ctrlKey,a=e.metaKey,i=e.shiftKey}),e.$body.on(\"click\",\".js-media-list-title\",function(r){r.preventDefault();var s=$(this);if(i){var d=_.first(o.getSelectedItems());if(d){var c=d.index_key,l=s.index();$(\".rv-media-items li\").each(function(e){e>c&&e<=l&&$(this).find(\"input[type=checkbox]\").prop(\"checked\",!0)})}}else t||a||s.closest(\".rv-media-items\").find(\"input[type=checkbox]\").prop(\"checked\",!1);\nvar u=s.find(\"input[type=checkbox]\");u.prop(\"checked\",!0),n.handleDropdown(),e.MediaService.getFileDetails(s.data())}).on(\"dblclick\",\".js-media-list-title\",function(t){t.preventDefault();var a=$(this).data();if(a.is_folder===!0)e.FolderService.changeFolder(a.id);else if(o.isUseInModal()){var i=o.getSelectedFiles();_.size(i)>0&&v.editorSelectFile(i)}else n.handlePreview()}).on(\"dblclick\",\".js-up-one-level\",function(e){e.preventDefault();var t=$(\".rv-media-breadcrumb .breadcrumb li\").length;$(\".rv-media-breadcrumb .breadcrumb li:nth-child(\"+(t-1)+\") a\").trigger(\"click\")}).on(\"contextmenu\",\".js-context-menu\",function(e){$(this).find(\"input[type=checkbox]\").is(\":checked\")||$(this).trigger(\"click\")}).on(\"click contextmenu\",\".rv-media-items\",function(t){_.size(t.target.closest(\".js-context-menu\"))||($('.rv-media-items input[type=\"checkbox\"]').prop(\"checked\",!1),$(\".rv-dropdown-actions\").addClass(\"disabled\"),e.MediaService.getFileDetails({icon:\"fa fa-picture-o\",nothing_selected:\"\"}))})},y.prototype.changeViewType=function(){var e=this;e.$body.on(\"click\",\".js-rv-media-change-view-type .btn\",function(a){a.preventDefault();var i=$(this);i.hasClass(\"active\")||(i.closest(\".js-rv-media-change-view-type\").find(\".btn\").removeClass(\"active\"),i.addClass(\"active\"),t.request_params.view_type=i.data(\"type\"),o.storeConfig(),e.MediaService.getMedia(!0))}),$('.js-rv-media-change-view-type .btn[data-type=\"'+o.getRequestParams().view_type+'\"]').trigger(\"click\")},y.prototype.changeFilter=function(){var e=this;e.$body.on(\"click\",\".js-rv-media-change-filter\",function(a){if(a.preventDefault(),!o.isOnAjaxLoading()){var i=$(this),r=i.closest(\"ul\"),n=i.data();t.request_params[n.type]=n.value,\"view_in\"==n.type&&(t.request_params.folder_id=0),i.closest(\".dropdown\").find(\".js-rv-media-filter-current\").html(\"(\"+i.html()+\")\"),o.storeConfig(),l.refreshFilter(),e.MediaService.getMedia(!0),r.find(\"> li\").removeClass(\"active\"),i.closest(\"li\").addClass(\"active\")}})},y.prototype.search=function(){var e=this;$('.input-search-wrapper input[type=\"text\"]').val(o.getRequestParams().search||\"\"),e.$body.on(\"submit\",\".input-search-wrapper\",function(a){a.preventDefault(),t.request_params.search=$(this).find('input[type=\"text\"]').val(),o.storeConfig(),e.MediaService.getMedia(!0)})},y.prototype.handleActions=function(){var e=this;e.$body.on(\"click\",'.rv-media-actions .js-change-action[data-type=\"refresh\"]',function(t){t.preventDefault(),e.MediaService.getMedia(!0)}).on(\"click\",\".rv-media-items li.no-items\",function(e){e.preventDefault(),$(\".rv-media-header .rv-media-top-header .rv-media-actions .js-dropzone-upload\").trigger(\"click\")}).on(\"submit\",\".form-add-folder\",function(t){t.preventDefault();var a=$(this).find(\"input[type=text]\"),i=a.val();e.FolderService.create(i),a.val(\"\")}).on(\"click\",\".js-change-folder\",function(t){t.preventDefault();var a=$(this).data(\"folder\");e.FolderService.changeFolder(a)}).on(\"click\",\".js-files-action\",function(t){t.preventDefault(),n.handleGlobalAction($(this).data(\"action\"),function(t){e.MediaService.getMedia(!0)})})},y.prototype.handleModals=function(){var e=this;e.$body.on(\"show.bs.modal\",\"#modal_rename_items\",function(e){n.renderRenameItems()}),e.$body.on(\"submit\",\"#modal_rename_items .form-rename\",function(t){t.preventDefault();var a=[],i=$(this);$(\"#modal_rename_items .form-control\").each(function(){var e=$(this),t=e.closest(\".form-group\").data();t.name=e.val(),a.push(t)}),n.processAction({action:i.data(\"action\"),selected:a},function(t){t.error?$(\"#modal_rename_items .form-group\").each(function(){var e=$(this);_.contains(t.data,e.data(\"id\"))?e.addClass(\"has-error\"):e.removeClass(\"has-error\")}):(i.closest(\".modal\").modal(\"hide\"),e.MediaService.getMedia(!0))})}),e.$body.on(\"submit\",\".form-delete-items\",function(t){t.preventDefault();var a=[],i=$(this);_.each(o.getSelectedItems(),function(e){a.push({id:e.id,is_folder:e.is_folder})}),n.processAction({action:i.data(\"action\"),selected:a},function(t){i.closest(\".modal\").modal(\"hide\"),t.error||e.MediaService.getMedia(!0)})}),e.$body.on(\"submit\",\"#modal_empty_trash .rv-form\",function(t){t.preventDefault();var a=$(this);n.processAction({action:a.data(\"action\")},function(t){a.closest(\".modal\").modal(\"hide\"),e.MediaService.getMedia(!0)})});var t=[],a=$(\"#share_option\"),i=$(\"#share_to_users\");a.on(\"change\",function(e){e.preventDefault(),\"user\"===$(this).val()?i.closest(\".form-group\").removeClass(\"hidden\"):i.closest(\".form-group\").addClass(\"hidden\")}).trigger(\"change\"),e.$body.on(\"show.bs.modal\",\"#modal_share_items\",function(e){a.val(\"no_share\").trigger(\"change\"),i.val(\"\");var n=o.getSelectedItems();if(console.log(n),1!=_.size(n)){var s=!0;$.each(n,function(e,t){0==t.is_public&&(s=!1)}),s?a.val(\"everyone\").trigger(\"change\"):$.ajax({url:RV_MEDIA_URL.get_users,type:\"GET\",dataType:\"json\",success:function(e){e.error?r.showMessage(\"error\",e.message,o.getConfigs().translation_text.message.error_header):(i.html(\"\"),t=e.data,_.each(t,function(e){var t='<option value=\"'+e.id+'\">'+e.name+\"</option>\";i.append(t)}))},error:function(e){r.handleError(e)}})}else{var d=_.first(n);d.is_public?a.val(\"everyone\").trigger(\"change\"):$.ajax({url:RV_MEDIA_URL.get_shared_users,type:\"GET\",data:{share_id:d.id,is_folder:d.is_folder},dataType:\"json\",success:function(e){if(e.error)r.showMessage(\"error\",e.message,o.getConfigs().translation_text.message.error_header);else{i.html(\"\"),t=e.data.users;var n=0;_.each(t,function(e){var t=e.is_selected;t&&n++;var a='<option value=\"'+e.id+'\" '+(t?\"selected\":\"\")+\">\"+e.name+\"</option>\";i.append(a)}),n>0&&a.val(\"user\").trigger(\"change\")}},error:function(e){r.handleError(e)}})}}).on(\"submit\",\"#modal_share_items .rv-form\",function(t){t.preventDefault();var r=$(this),s=[];_.each(o.getSelectedItems(),function(e){s.push({id:e.id,is_folder:e.is_folder})}),n.processAction({action:r.data(\"action\"),selected:s,share_option:a.val(),users:i.val()},function(t){r.closest(\".modal\").modal(\"hide\"),e.MediaService.getMedia(!0)})}).on(\"submit\",\"#modal_set_focus_point .rv-form\",function(t){t.preventDefault();var a=$(this),i=[];_.each(o.getSelectedItems(),function(e){i.push({id:e.id,is_folder:e.is_folder})}),n.processAction({action:a.data(\"action\"),selected:i,data_attribute:$(\".helper-tool-data-attr\").val(),css_bg_position:$(\".helper-tool-css3-val\").val(),retice_css:$(\".helper-tool-reticle-css\").val()},function(t){e.MediaService.getMedia(!0),a.closest(\".modal\").modal(\"hide\")})})},y.setupSecurity=function(){$.ajaxSetup({headers:{\"X-CSRF-TOKEN\":$('meta[name=\"csrf-token\"]').attr(\"content\")}})},$(document).ready(function(){window.rvMedia=window.rvMedia||{},y.setupSecurity(),(new y).init()})}(this.LaravelElixirBundle=this.LaravelElixirBundle||{});"],"file":"media.min.js"}