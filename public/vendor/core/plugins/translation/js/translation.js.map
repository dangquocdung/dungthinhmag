{"version":3,"sources":["translation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"translation.js","sourcesContent":["(function (e, t) {\n    if (e.rails !== t) {\n        e.error('jquery-ujs has already been loaded!')\n    }\n    var n;\n    var r = e(document);\n    e.rails = n = {\n        linkClickSelector: 'a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]',\n        buttonClickSelector: 'button[data-remote], button[data-confirm]',\n        inputChangeSelector: 'select[data-remote], input[data-remote], textarea[data-remote]',\n        formSubmitSelector: 'form',\n        formInputClickSelector: 'form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])',\n        disableSelector: 'input[data-disable-with], button[data-disable-with], textarea[data-disable-with]',\n        enableSelector: 'input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled',\n        requiredInputSelector: 'input[name][required]:not([disabled]),textarea[name][required]:not([disabled])',\n        fileInputSelector: 'input[type=file]',\n        linkDisableSelector: 'a[data-disable-with]',\n        buttonDisableSelector: 'button[data-remote][data-disable-with]',\n        CSRFProtection: function (t) {\n            var n = e('meta[name=\"csrf-token\"]').attr('content');\n            if (n) {\n                t.setRequestHeader('X-CSRF-Token', n)\n            }\n        },\n        refreshCSRFTokens: function () {\n            var t = e('meta[name=csrf-token]').attr('content');\n            var n = e('meta[name=csrf-param]').attr('content');\n            e('form input[name=\"' + n + '\"]').val(t)\n        },\n        fire: function (t, n, r) {\n            var i = e.Event(n);\n            t.trigger(i, r);\n            return i.result !== false\n        },\n        confirm: function (e) {\n            return confirm(e)\n        },\n        ajax: function (t) {\n            return e.ajax(t)\n        },\n        href: function (e) {\n            return e.attr('href')\n        },\n        handleRemote: function (r) {\n            var i, s, o, u, a, f, l, c;\n            if (n.fire(r, 'ajax:before')) {\n                u = r.data('cross-domain');\n                a = u === t ? null : u;\n                f = r.data('with-credentials') || null;\n                l = r.data(\"type\") || e.ajaxSettings && e.ajaxSettings.dataType;\n                if (r.is(\"form\")) {\n                    i = r.attr(\"method\");\n                    s = r.attr(\"action\");\n                    o = r.serializeArray();\n                    var h = r.data(\"ujs:submit-button\");\n                    if (h) {\n                        o.push(h);\n                        r.data(\"ujs:submit-button\", null)\n                    }\n                } else if (r.is(n.inputChangeSelector)) {\n                    i = r.data(\"method\");\n                    s = r.data(\"url\");\n                    o = r.serialize();\n                    if (r.data(\"params\"))o = o + \"&\" + r.data(\"params\")\n                } else if (r.is(n.buttonClickSelector)) {\n                    i = r.data(\"method\") || \"get\";\n                    s = r.data(\"url\");\n                    o = r.serialize();\n                    if (r.data(\"params\"))o = o + \"&\" + r.data(\"params\")\n                } else {\n                    i = r.data(\"method\");\n                    s = n.href(r);\n                    o = r.data(\"params\") || null\n                }\n                c = {\n                    type: i || \"GET\", data: o, dataType: l, beforeSend: function (e, i) {\n                        if (i.dataType === t) {\n                            e.setRequestHeader(\"accept\", \"*/*;q=0.5, \" + i.accepts.script)\n                        }\n                        if (n.fire(r, \"ajax:beforeSend\", [e, i])) {\n                            r.trigger(\"ajax:send\", e)\n                        } else {\n                            return false\n                        }\n                    }, success: function (e, t, n) {\n                        r.trigger(\"ajax:success\", [e, t, n])\n                    }, complete: function (e, t) {\n                        r.trigger(\"ajax:complete\", [e, t])\n                    }, error: function (e, t, n) {\n                        r.trigger(\"ajax:error\", [e, t, n])\n                    }, crossDomain: a\n                };\n                if (f) {\n                    c.xhrFields = {withCredentials: f}\n                }\n                if (s) {\n                    c.url = s\n                }\n                return n.ajax(c)\n            } else {\n                return false\n            }\n        },\n        handleMethod: function (r) {\n            var i = n.href(r), s = r.data(\"method\"), o = r.attr(\"target\"), u = e(\"meta[name=csrf-token]\").attr(\"content\"), a = e(\"meta[name=csrf-param]\").attr(\"content\"), f = e('<form method=\"post\" action=\"' + i + '\"></form>'), l = '<input name=\"_method\" value=\"' + s + '\" type=\"hidden\" />';\n            if (a !== t && u !== t) {\n                l += '<input name=\"' + a + '\" value=\"' + u + '\" type=\"hidden\" />'\n            }\n            if (o) {\n                f.attr(\"target\", o)\n            }\n            f.hide().append(l).appendTo(\"body\");\n            f.submit()\n        },\n        formElements: function (t, n) {\n            return t.is(\"form\") ? e(t[0].elements).filter(n) : t.find(n)\n        },\n        disableFormElements: function (t) {\n            n.formElements(t, n.disableSelector).each(function () {\n                n.disableFormElement(e(this))\n            })\n        },\n        disableFormElement: function (e) {\n            var t = e.is(\"button\") ? \"html\" : \"val\";\n            e.data(\"ujs:enable-with\", e[t]());\n            e[t](e.data(\"disable-with\"));\n            e.prop(\"disabled\", true)\n        },\n        enableFormElements: function (t) {\n            n.formElements(t, n.enableSelector).each(function () {\n                n.enableFormElement(e(this))\n            })\n        },\n        enableFormElement: function (e) {\n            var t = e.is(\"button\") ? \"html\" : \"val\";\n            if (e.data(\"ujs:enable-with\"))e[t](e.data(\"ujs:enable-with\"));\n            e.prop(\"disabled\", false)\n        },\n        allowAction: function (e) {\n            var t = e.data(\"confirm\"), r = false, i;\n            if (!t) {\n                return true\n            }\n            if (n.fire(e, \"confirm\")) {\n                r = n.confirm(t);\n                i = n.fire(e, \"confirm:complete\", [r])\n            }\n            return r && i\n        },\n        blankInputs: function (t, n, r) {\n            var i = e(), s, o, u = n || \"input,textarea\", a = t.find(u);\n            a.each(function () {\n                s = e(this);\n                o = s.is(\"input[type=checkbox],input[type=radio]\") ? s.is(\":checked\") : s.val();\n                if (!o === !r) {\n                    if (s.is(\"input[type=radio]\") && a.filter('input[type=radio]:checked[name=\"' + s.attr(\"name\") + '\"]').length) {\n                        return true\n                    }\n                    i = i.add(s)\n                }\n            });\n            return i.length ? i : false\n        },\n        nonBlankInputs: function (e, t) {\n            return n.blankInputs(e, t, true)\n        },\n        stopEverything: function (t) {\n            e(t.target).trigger(\"ujs:everythingStopped\");\n            t.stopImmediatePropagation();\n            return false\n        },\n        disableElement: function (e) {\n            e.data(\"ujs:enable-with\", e.html());\n            e.html(e.data(\"disable-with\"));\n            e.bind(\"click.railsDisable\", function (e) {\n                return n.stopEverything(e)\n            })\n        },\n        enableElement: function (e) {\n            if (e.data(\"ujs:enable-with\") !== t) {\n                e.html(e.data(\"ujs:enable-with\"));\n                e.removeData(\"ujs:enable-with\")\n            }\n            e.unbind(\"click.railsDisable\")\n        }\n    };\n    if (n.fire(r, \"rails:attachBindings\")) {\n        e.ajaxPrefilter(function (e, t, r) {\n            if (!e.crossDomain) {\n                n.CSRFProtection(r)\n            }\n        });\n        r.delegate(n.linkDisableSelector, \"ajax:complete\", function () {\n            n.enableElement(e(this))\n        });\n        r.delegate(n.buttonDisableSelector, \"ajax:complete\", function () {\n            n.enableFormElement(e(this))\n        });\n        r.delegate(n.linkClickSelector, \"click.rails\", function (r) {\n            var i = e(this), s = i.data(\"method\"), o = i.data(\"params\"), u = r.metaKey || r.ctrlKey;\n            if (!n.allowAction(i))return n.stopEverything(r);\n            if (!u && i.is(n.linkDisableSelector))n.disableElement(i);\n            if (i.data(\"remote\") !== t) {\n                if (u && (!s || s === \"GET\") && !o) {\n                    return true\n                }\n                var a = n.handleRemote(i);\n                if (a === false) {\n                    n.enableElement(i)\n                } else {\n                    a.error(function () {\n                        n.enableElement(i)\n                    })\n                }\n                return false\n            } else if (i.data(\"method\")) {\n                n.handleMethod(i);\n                return false\n            }\n        });\n        r.delegate(n.buttonClickSelector, \"click.rails\", function (t) {\n            var r = e(this);\n            if (!n.allowAction(r))return n.stopEverything(t);\n            if (r.is(n.buttonDisableSelector))n.disableFormElement(r);\n            var i = n.handleRemote(r);\n            if (i === false) {\n                n.enableFormElement(r)\n            } else {\n                i.error(function () {\n                    n.enableFormElement(r)\n                })\n            }\n            return false\n        });\n        r.delegate(n.inputChangeSelector, \"change.rails\", function (t) {\n            var r = e(this);\n            if (!n.allowAction(r))return n.stopEverything(t);\n            n.handleRemote(r);\n            return false\n        });\n        r.delegate(n.formSubmitSelector, \"submit.rails\", function (r) {\n            var i = e(this), s = i.data(\"remote\") !== t, o, u;\n            if (!n.allowAction(i))return n.stopEverything(r);\n            if (i.attr(\"novalidate\") == t) {\n                o = n.blankInputs(i, n.requiredInputSelector);\n                if (o && n.fire(i, \"ajax:aborted:required\", [o])) {\n                    return n.stopEverything(r)\n                }\n            }\n            if (s) {\n                u = n.nonBlankInputs(i, n.fileInputSelector);\n                if (u) {\n                    setTimeout(function () {\n                        n.disableFormElements(i)\n                    }, 13);\n                    var a = n.fire(i, \"ajax:aborted:file\", [u]);\n                    if (!a) {\n                        setTimeout(function () {\n                            n.enableFormElements(i)\n                        }, 13)\n                    }\n                    return a\n                }\n                n.handleRemote(i);\n                return false\n            } else {\n                setTimeout(function () {\n                    n.disableFormElements(i)\n                }, 13)\n            }\n        });\n        r.delegate(n.formInputClickSelector, \"click.rails\", function (t) {\n            var r = e(this);\n            if (!n.allowAction(r))return n.stopEverything(t);\n            var i = r.attr(\"name\"), s = i ? {name: i, value: r.val()} : null;\n            r.closest(\"form\").data(\"ujs:submit-button\", s)\n        });\n        r.delegate(n.formSubmitSelector, \"ajax:send.rails\", function (t) {\n            if (this == t.target)n.disableFormElements(e(this))\n        });\n        r.delegate(n.formSubmitSelector, \"ajax:complete.rails\", function (t) {\n            if (this == t.target)n.enableFormElements(e(this))\n        });\n        e(function () {\n            n.refreshCSRFTokens()\n        })\n    }\n})(jQuery);\n\njQuery(document).ready(function ($) {\n\n    $('.editable').editable().on('hidden', function (e, reason) {\n        var locale = $(this).data('locale');\n        if (reason === 'save') {\n            $(this).removeClass('status-0').addClass('status-1');\n        }\n        if (reason === 'save' || reason === 'nochange') {\n            var $next = $(this).closest('tr').next().find('.editable.locale-' + locale);\n            setTimeout(function () {\n                $next.editable('show');\n            }, 300);\n        }\n    });\n\n    $('.group-select').on('change', function () {\n        var group = $(this).val();\n        if (group) {\n            window.location.href = BTranslation.routes.group_view + '?file=' + $(this).val();\n        } else {\n            window.location.href = BTranslation.routes.list;\n        }\n    });\n\n    $('a.delete-key').click(function (event) {\n        event.preventDefault();\n        var row = $(this).closest('tr');\n        var url = $(this).attr('href');\n        var id = row.attr('id');\n        $.post(url, {id: id}, function () {\n            row.remove();\n        });\n    });\n\n    $('.form-import').on('ajax:success', function (e, data) {\n        $('div.success-import strong.counter').text(data.counter);\n        $('div.success-import').slideDown();\n    });\n\n    $('.form-find').on('ajax:success', function (e, data) {\n        $('div.success-find strong.counter').text(data.counter);\n        $('div.success-find').slideDown();\n    });\n\n    $('.form-publish').on('ajax:success', function (e, data) {\n        $('div.success-publish').slideDown();\n    });\n\n});"]}