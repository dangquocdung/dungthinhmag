var Botble=Botble||{};Botble.getViewPort=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},Botble.getResponsiveBreakpoint=function(e){var t={xs:480,sm:768,md:992,lg:1200};return t[e]?t[e]:0};var handleSidebarAndContentHeight=function(){var e,t=$(".page-content"),n=$(".sidebar"),o=$(".navbar.navbar-inverse").outerHeight(),a=$(".page-footer").outerHeight();e=Botble.getViewPort().width<Botble.getResponsiveBreakpoint("md")?Botble.getViewPort().height-o-a:n.height()+20,e+o+a<=Botble.getViewPort().height&&(e=Botble.getViewPort().height-o-a),t.css("min-height",e)};$(document).ready(function(){handleSidebarAndContentHeight()});var Botble=Botble||{};Botble.blockUI=function(e){e=$.extend(!0,{},e);var t="";if(t=e.animate?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':e.iconOnly?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><img src="/vendor/core/images/loading-spinner-blue.gif" align=""></div>':e.textOnly?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>":'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><img src="/vendor/core/images/loading-spinner-blue.gif" align=""><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>",e.target){var n=$(e.target);n.height()<=$(window).height()&&(e.cenrerY=!0),n.block({message:t,baseZ:e.zIndex?e.zIndex:1e3,centerY:void 0!==e.cenrerY&&e.cenrerY,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.1,cursor:"wait"}})}else $.blockUI({message:t,baseZ:e.zIndex?e.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.1,cursor:"wait"}})},Botble.unblockUI=function(e){e?$(e).unblock({onUnblock:function(){$(e).css("position",""),$(e).css("zoom","")}}):$.unblockUI()},Botble.showNotice=function(e,t,n){toastr.clear(),toastr.options={closeButton:!0,positionClass:"toast-bottom-right",onclick:null,showDuration:1e3,hideDuration:1e3,timeOut:1e4,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr[e](t,n)},Botble.handleError=function(e){void 0!==e.responseJSON?void 0!==e.responseJSON.message?Botble.showNotice("error",e.responseJSON.message,Botble.languages.notices_msg.error):$.each(e.responseJSON,function(e,t){$.each(t,function(e,t){Botble.showNotice("error",t,Botble.languages.notices_msg.error)})}):Botble.showNotice("error",e.statusText,Botble.languages.notices_msg.error)},Botble.countCharacter=function(){$.fn.charCounter=function(e,t){function n(n,l){n=$(n),n.val().length>e&&(n.val(n.val().substring(0,e)),t.pulse&&!a&&o(l,!0)),t.delay>0?(i&&window.clearTimeout(i),i=window.setTimeout(function(){l.html(t.format.replace(/%1/,e-n.val().length))},t.delay)):l.html(t.format.replace(/%1/,e-n.val().length))}function o(e,t){a&&(window.clearTimeout(a),a=null),e.animate({opacity:.1},100,function(){$(this).animate({opacity:1},100)}),t&&(a=window.setTimeout(function(){o(e)},200))}e=e||100,t=$.extend({container:"<span></span>",classname:"charcounter",format:"(%1 "+Botble.languages.system.character_remain+")",pulse:!0,delay:0},t);var a,i;return this.each(function(){var e;t.container.match(/^<.+>$/)?($(this).next("."+t.classname).remove(),e=$(t.container).insertAfter(this).addClass(t.classname)):e=$(t.container),$(this).unbind(".charCounter").bind("keydown.charCounter",function(){n(this,e)}).bind("keypress.charCounter",function(){n(this,e)}).bind("keyup.charCounter",function(){n(this,e)}).bind("focus.charCounter",function(){n(this,e)}).bind("mouseover.charCounter",function(){n(this,e)}).bind("mouseout.charCounter",function(){n(this,e)}).bind("paste.charCounter",function(){var t=this;setTimeout(function(){n(t,e)},10)}),this.addEventListener&&this.addEventListener("input",function(){n(this,e)},!1),n(this,e)})},$(document).on("click","input[data-counter], textarea[data-counter]",function(){$(this).charCounter($(this).data("counter"),{container:"<small></small>"})})},Botble.manageSidebar=function(){var e=$("body"),t=$(".navigation"),n=$(".sidebar-content");t.find("li.active").parents("li").addClass("active"),t.find("li").has("ul").children("a").parent("li").addClass("has-ul"),$(document).on("click",".sidebar-toggle",function(o){o.preventDefault(),e.toggleClass("sidebar-narrow"),e.hasClass("sidebar-narrow")?(t.children("li").children("ul").css("display",""),n.hide().delay().queue(function(){$(this).show().addClass("animated fadeIn").clearQueue()})):(t.children("li").children("ul").css("display","none"),t.children("li.active").children("ul").css("display","block"),n.hide().delay().queue(function(){$(this).show().addClass("animated fadeIn").clearQueue()}))}),t.find("li").has("ul").children("a").on("click",function(t){t.preventDefault(),e.hasClass("sidebar-narrow")?($(this).parent("li > ul li").not(".disabled").toggleClass("active").children("ul").slideToggle(250),$(this).parent("li > ul li").not(".disabled").siblings().removeClass("active").children("ul").slideUp(250)):($(this).parent("li").not(".disabled").toggleClass("active").children("ul").slideToggle(250),$(this).parent("li").not(".disabled").siblings().removeClass("active").children("ul").slideUp(250))}),$(document).on("click",".offcanvas",function(){$("body").toggleClass("offcanvas-active").toggleClass("sidebar-narrow")})},Botble.initDatepicker=function(e){jQuery().bootstrapDP&&$(document).find(e).bootstrapDP({maxDate:0,changeMonth:!0,changeYear:!0,autoclose:!0})},Botble.initResources=function(){jQuery().select2&&($(document).find(".select-multiple").select2({width:"100%",allowClear:!0,placeholder:$(this).data("placeholder")}),$(document).find(".select-search-full").select2({width:"100%"}),$(document).find(".select-full").select2({width:"100%",minimumResultsForSearch:-1})),jQuery().timepicker&&jQuery().timepicker&&($(".timepicker-default").timepicker({autoclose:!0,showSeconds:!0,minuteStep:1,defaultTime:!1}),$(".timepicker-no-seconds").timepicker({autoclose:!0,minuteStep:5,defaultTime:!1}),$(".timepicker-24").timepicker({autoclose:!0,minuteStep:5,showSeconds:!1,showMeridian:!1,defaultTime:!1})),jQuery().colorpicker&&$(".color-picker").colorpicker({}),this.initDatepicker(".datepicker"),jQuery().fancybox&&($(".iframe-btn").fancybox({width:"900px",height:"700px",type:"iframe",autoScale:!1,openEffect:"none",closeEffect:"none",overlayShow:!0,overlayOpacity:.7}),$(".fancybox").fancybox({openEffect:"none",closeEffect:"none",overlayShow:!0,overlayOpacity:.7,helpers:{media:{}}})),$(".styled").uniform(),$(".tip").tooltip({placement:"top"}),jQuery().areYouSure&&$("form").areYouSure(),Botble.callScroll($(".list-item-checkbox"))},Botble.callScroll=function(e){e.mCustomScrollbar({axis:"yx",theme:"minimal-dark",scrollButtons:{enable:!0},callbacks:{whileScrolling:function(){e.find(".tableFloatingHeaderOriginal").css({top:-this.mcs.top+"px"})}}}),e.stickyTableHeaders({scrollableArea:e,fixedOffset:2})},Botble.handleWaypoint=function(){$("#waypoint").length>0&&new Waypoint({element:document.getElementById("waypoint"),handler:function(e){"down"==e?$(".form-actions-fixed-top").removeClass("hidden"):$(".form-actions-fixed-top").addClass("hidden")}})},Botble.handleCounterup=function(){$().counterUp&&$('[data-counter="counterup"]').counterUp({delay:10,time:1e3})},jQuery().datepicker.noConflict&&($.fn.bootstrapDP=$.fn.datepicker.noConflict()),Botble.initMediaIntegrate=function(){jQuery().rvMedia&&($('[data-type="rv-media-standard-alone-button"]').rvMedia({multiple:!1,onSelectFiles:function(e,t){$(t.data("target")).val(e[0].url)}}),$(document).find(".btn_gallery").rvMedia({multiple:!1,onSelectFiles:function(e,t){switch(t.data("action")){case"media-insert-ckeditor":$.each(e,function(e,n){var o=n.url;"youtube"===n.type?(o=o.replace("watch?v=","embed/"),CKEDITOR.instances[t.data("result")].insertHtml('<iframe width="420" height="315" src="'+o+'" frameborder="0" allowfullscreen></iframe>')):"image"===n.type?CKEDITOR.instances[t.data("result")].insertHtml('<img src="'+o+'" alt="'+n.name+'" />'):CKEDITOR.instances[t.data("result")].insertHtml('<a href="'+o+'">'+n.name+"</a>")});break;case"media-insert-tinymce":$.each(e,function(e,t){var n=t.url,o="";"youtube"===t.type?(n=n.replace("watch?v=","embed/"),o='<iframe width="420" height="315" src="'+n+'" frameborder="0" allowfullscreen></iframe>'):o="image"===t.type?'<img src="'+n+'" alt="'+t.name+'" />':'<a href="'+n+'">'+t.name+"</a>",tinymce.activeEditor.execCommand("mceInsertContent",!1,o)});break;case"select-image":var n=_.first(e);t.closest(".image-box").find(".image-data").val(n.url),t.closest(".image-box").find(".preview_image").attr("src",n.thumb),t.closest(".image-box").find(".preview-image-wrapper").show();break;case"attachment":var n=_.first(e);t.closest(".attachment-wrapper").find(".attachment-url").val(n.url),$(".attachment-details").html('<a href="'+n.url+'" target="_blank">'+n.url+"</a>")}}}),$(document).on("click",".btn_remove_image",function(e){e.preventDefault(),$(this).closest(".image-box").find(".preview-image-wrapper").hide(),$(this).closest(".image-box").find(".image-data").val("")}),$(document).on("click",".btn_remove_attachment",function(e){e.preventDefault(),$(this).closest(".attachment-wrapper").find(".attachment-details a").remove(),$(this).closest(".attachment-wrapper").find(".attachment-url").val("")}))},Botble.getViewPort=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},Botble.handlePortletTools=function(){$("body").on("click",".portlet > .portlet-title .fullscreen",function(e){e.preventDefault();var t=$(this).closest(".portlet");if(t.hasClass("portlet-fullscreen"))$(this).removeClass("on"),t.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),t.children(".portlet-body").css("height","auto");else{var n=Botble.getViewPort().height-t.children(".portlet-title").outerHeight()-parseInt(t.children(".portlet-body").css("padding-top"))-parseInt(t.children(".portlet-body").css("padding-bottom"));$(this).addClass("on"),t.addClass("portlet-fullscreen"),$("body").addClass("page-portlet-fullscreen"),t.children(".portlet-body").css("height",n)}}),$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(e){e.preventDefault();var t=$(this).closest(".portlet").children(".portlet-body");$(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),t.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),t.slideDown(200))})},$(document).ready(function(){Botble.countCharacter(),Botble.manageSidebar(),Botble.initResources(),Botble.handleWaypoint(),Botble.handleCounterup(),Botble.initMediaIntegrate(),Botble.handlePortletTools()}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});